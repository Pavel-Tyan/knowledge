Когда пользователь вводит URL (например, `https://example.com`) в адресной строке браузера и нажимает Enter, происходит серия событий, чтобы загрузить веб-страницу. Вот максимально подробный разбор:

---

### 1. **Проверка формата URL**

- Браузер анализирует введенный URL, чтобы убедиться, что он имеет правильный формат (например, наличие протокола `http://` или `https://`).
- Если протокол отсутствует, браузер автоматически добавляет его (обычно `http://` или `https://`).

---

### 2. **Проверка кэша**

- Браузер проверяет локальный кэш на наличие сохраненной версии запрашиваемой страницы. Если страница найдена и она еще актуальна, браузер загружает ее напрямую из кэша.

---

### 3. **DNS-разрешение**

Если страница отсутствует в кэше:

- Браузер обращается к DNS (Domain Name System), чтобы преобразовать доменное имя (например, `example.com`) в IP-адрес сервера.
    - Если IP-адрес уже находится в локальном DNS-кэше (например, после недавнего запроса), этот шаг пропускается.
    - Если нет, браузер отправляет запрос к ближайшему DNS-серверу (обычно предоставляемому интернет-провайдером), который либо возвращает IP-адрес, либо перенаправляет запрос к следующему серверу в иерархии DNS.

---

### 4. **Установление соединения**

С использованием полученного IP-адреса браузер начинает процесс подключения к серверу:

- **TCP-соединение**
    - Браузер инициирует соединение с сервером через протокол TCP (Transmission Control Protocol).
    - Этот процесс включает в себя трехэтапное установление соединения (three-way handshake):
        1. Клиент отправляет SYN (synchronize) пакет серверу.
        2. Сервер отвечает SYN-ACK (synchronize-acknowledge).
        3. Клиент отправляет ACK (acknowledge), и соединение устанавливается.
- **TLS/SSL (при HTTPS)**
    - Если используется HTTPS, браузер также инициирует TLS/SSL-шифрование для обеспечения безопасности соединения.
    - Это включает в себя обмен сертификатами, проверку их подлинности и установление ключей шифрования.

---

### 5. **Отправка HTTP-запроса**

После успешного установления соединения:

- Браузер отправляет HTTP-запрос (или HTTPS-запрос) на сервер. Запрос включает:
    - Метод (например, `GET`, `POST` и т.д.).
    - Заголовки (например, информацию о браузере, языке, поддерживаемых форматах и т.д.).
    - В некоторых случаях тело запроса (например, при отправке формы через `POST`).

---

### 6. **Обработка запроса сервером**

Сервер обрабатывает запрос:

- Сервер может обращаться к файлам, базам данных или другим сервисам для формирования ответа.
- После обработки сервер отправляет ответ, который включает:
    - Код статуса HTTP (например, `200 OK`, `404 Not Found` и т.д.).
    - Заголовки ответа (например, тип контента, длина и т.д.).
    - Тело ответа (например, HTML-код страницы).

---

### 7. **Получение и отображение ответа**

Браузер принимает ответ от сервера:

- **Обработка HTML**
    - Браузер анализирует HTML-документ, используя парсер DOM (Document Object Model).
    - Если в HTML есть ссылки на ресурсы (CSS, JS, изображения), браузер отправляет дополнительные запросы для их загрузки.
- **Рендеринг страницы**
    - После загрузки всех ресурсов браузер:
        1. Создает DOM-дерево на основе HTML.
        2. Создает CSSOM (CSS Object Model) для обработки стилей.
        3. Объединяет DOM и CSSOM в рендер-дерево.
        4. Выполняет JS-скрипты, которые могут модифицировать DOM.
        5. Выводит итоговую страницу на экран.

---

### 8. **Взаимодействие пользователя**

После завершения рендеринга пользователь может взаимодействовать с веб-страницей, отправлять дополнительные запросы (например, кликая ссылки или кнопки), которые повторяют описанный процесс.
[[OSI]]