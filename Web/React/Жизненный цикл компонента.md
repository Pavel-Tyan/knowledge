![[Pasted image 20250131183415.png]]

#### _`Компонент способен находиться лишь на одном этапе.`_ 

Начинается все с **монтирования**, а продолжается **обновлением**. То есть компонент обновляется постоянно и происходит это до тех пор, пока он не перейдет на этап **размонтирования**, где удалится из виртуального DOM.
## Этап № 1: монтирование

Как известно, компоненты, созданные на основе классов, тоже являются классами. Именно поэтому первый запускаемый метод — `constructor()`. Как правило, именно в `constructor()` мы выполняем инициализацию состояния компонента.

Далее компонент запускает `getDerivedStateFromProps()`, потом запускается `render()`, возвращающий JSX. React «монтируется» в DOM. Следующий этап — запуск метода `componentDidMount()`. Тут происходит выполнение всех асинхронных вызовов к базам данных. Итак, компонент «рожден».

## Этап № 2: обновление

Данный этап запускается во время каждого изменения состояния либо свойств. Как и в случае с монтированием, происходит вызов метода `getDerivedStateFromProps()`, однако в этот раз уже без `constructor()`.

Потом происходит запуск `shouldComponentUpdate()`. Тут можно выполнять сравнение старых свойств с новым перечнем свойств либо сравнивать состояния. При этом мы можем указать, надо ли отображать компонент заново, возвращая true либо false — это даст возможность сделать приложение более эффективным благодаря уменьшению числа лишних отображений. Если же `shouldComponentUpdate()` возвращает false, этап обновлений завершается.

В обратном случае React отобразится заново, а потом запустится `getSnapshotBeforeUpdate()`. Потом React запустит `componentDidUpdate()`. Как и в случае с `componentDidMount()`, его можно применять для асинхронных вызовов либо управления DOM.

## Этап № 3: размонтирование

Все хорошее имеет тенденцию заканчиваться. Когда компонент прожил свою жизнь, наступает размонтирование — последний жизненный этап. Во время удаления компонента из DOM React выполняет запуск `componentWillUnmount()` непосредственно перед удалением. Данный метод применяется при закрытии всех открытых соединений типа web-сокетов либо тайм-аутов.